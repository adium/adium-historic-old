{\rtf1\mac\ansicpg10000\uc1 \deff4\deflang1033\deflangfe1033{\upr{\fonttbl{\f0\fnil\fcharset256\fprq2{\*\panose 00020206030504050203}Times New Roman{\*\falt Times};}{\f2\fnil\fcharset256\fprq2{\*\panose 00020703090202050204}Courier New;}{\f3\fnil\fcharset2\fprq2{\*\panose 00020005000000000000}Symbol;}{\f4\fnil\fcharset256\fprq2{\*\panose 00020005000000000000}Times;}{\f5\fnil\fcharset256\fprq2{\*\panose 00020005000000000000}Helvetica;}{\f14\fnil\fcharset2\fprq2{\*\panose 00050201020108040807}Wingdings;}{\f19\fnil\fcharset256\fprq2{\*\panose 00020005000000000000}Monaco;}{\f155\froman\fcharset77\fprq0{\*\panose 00000000000000000000}Times-Bold{\*\falt Times};}}{\*\ud{\fonttbl{\f0\fnil\fcharset256\fprq2{\*\panose 00020206030504050203}Times New Roman{\*\falt Times};}{\f2\fnil\fcharset256\fprq2{\*\panose 00020703090202050204}Courier New;}{\f3\fnil\fcharset2\fprq2{\*\panose 00020005000000000000}Symbol;}{\f4\fnil\fcharset256\fprq2{\*\panose 00020005000000000000}Times;}{\f5\fnil\fcharset256\fprq2{\*\panose 00020005000000000000}Helvetica;}{\f14\fnil\fcharset2\fprq2{\*\panose 00050201020108040807}Wingdings;}{\f19\fnil\fcharset256\fprq2{\*\panose 00020005000000000000}Monaco;}{\f155\froman\fcharset77\fprq0{\*\panose 00000000000000000000}Times-Bold{\*\falt Times};}}}}{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;\red128\green128\blue128;\red192\green192\blue192;\red104\green56\blue33;\red118\green15\blue80;}{\stylesheet{\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \f4\lang1033\cgrid \snext0 Normal;}{\s1\keepn\widctlpar\aspalpha\aspnum\faauto\outlinelevel0\adjustright\rin0\lin0\itap0 \b\f4\cf13\lang1033\cgrid \sbasedon0 \snext0 heading 1;}{\*\cs10 \additive Default Paragraph Font;}{\s15\nowidctlpar\tx360\tx720\tx1080\tx1440\tx3060\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\rin0\lin0\itap0 \f155\fs28\lang1033\cgrid \sbasedon0 \snext15 Body Text;}}{\*\listtable{\list\listtemplateid-1362718908{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat0\levelspace0\levelindent0{\leveltext\'01-;}{\levelnumbers;}\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li720\jclisttab\tx720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01o;}{\levelnumbers;}\f2\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li1440\jclisttab\tx1440 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3929 _;}{\levelnumbers;}\f14\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li2160\jclisttab\tx2160 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 _;}{\levelnumbers;}\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \loch\af3\dbch\af0\hich\f3 \fi-360\li2880\jclisttab\tx2880 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01o;}{\levelnumbers;}\f2\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li3600\jclisttab\tx3600 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3929 _;}{\levelnumbers;}\f14\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li4320\jclisttab\tx4320 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 _;}{\levelnumbers;}\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \loch\af3\dbch\af0\hich\f3 \fi-360\li5040\jclisttab\tx5040 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01o;}{\levelnumbers;}\f2\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li5760\jclisttab\tx5760 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3929 _;}{\levelnumbers;}\f14\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li6480\jclisttab\tx6480 }{\listname ;}\listid1697347664}}{\*\listoverridetable{\listoverride\listid1697347664\listoverridecount0\ls1}}{\info{\title Adium Documentation : Creating a plugin}{\author Adam Iser}{\operator Adam Iser}{\creatim\yr2002\mo12\dy17\hr16\min35}{\revtim\yr2003\mo1\dy1\hr11\min33}{\version35}{\edmins57}{\nofpages2}{\nofwords483}{\nofchars2758}{\nofcharsws3387}{\vern16561}}\paperw12226\paperh15826\margl1440 \ftnbj\aenddoc\noxlattoyen\expshrtn\noultrlspc\dntblnsbdb\nospaceforul\hyphcaps0\formshade\horzdoc\dgmargin\dghspace180\dgvspace180\dghorigin1440\dgvorigin1440\dghshow0\dgvshow0\jexpand\viewkind1\viewscale100\pgbrdrhead\pgbrdrfoot\splytwnine\ftnlytwnine\htmautsp\nolnhtadjtbl\useltbaln\alntblind\lytcalctblwd\lyttblrtgr\lnbrkrule \fet0\sectd \linex0\endnhere\sectdefaultcl {\*\pnseclvl1\pnucrm\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl2\pnucltr\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl3\pndec\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl4\pnlcltr\pnstart1\pnindent720\pnhang{\pntxta )}}{\*\pnseclvl5\pndec\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl6\pnlcltr\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl7\pnlcrm\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl8\pnlcltr\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl9\pnlcrm\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}\pard\plain \nowidctlpar\tx360\tx720\tx1080\tx1440\tx3060\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\rin0\lin0\itap0 \f4\lang1033\cgrid {\b\f5\fs28\cf13 Adium Documentation : Creating a plugin.\par }{\f5\cf13 {\pict{\*\picprop\shplid1025{\sp{\sn shapeType}{\sv 1}}{\sp{\sn fFlipH}{\sv 0}}{\sp{\sn fFlipV}{\sv 0}}{\sp{\sn fillColor}{\sv 11184810}}{\sp{\sn fFilled}{\sv 1}}{\sp{\sn fLine}{\sv 0}}{\sp{\sn alignHR}{\sv 1}}{\sp{\sn dxHeightHR}{\sv 30}}{\sp{\sn fStandardHR}{\sv 1}}{\sp{\sn fHorizRule}{\sv 1}}}\picscalex898\picscaley6\piccropl0\piccropr0\piccropt0\piccropb0\picw50\pich25\picwgoal1000\pichgoal500\macpict\bliptag577262390\blipupi72{\*\blipuid 2268533606c4a90ee9ad42aca81cfdb1}000d00000000001900321101ff00000000000000}}{\f5\fs28\cf13 \par }\pard\plain \s15\nowidctlpar\tx360\tx720\tx1080\tx1440\tx3060\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\rin0\lin0\itap0 \f155\fs28\lang1033\cgrid {\f5\fs24\cf13 \par }{\f5\fs24 Whenever possible, features should be added to Adium 2.0 as plugins.  Plugins not only allow great user customization, but help enforce object oriented design as well, keeping the Adium codebase clean and stable.\par \par While not all plugins will be distributed with the Adium application, they will be easier to keep track of and maintain if they\rquote re all built within the Adium project and stored on the Adium sourceforge cvs. \par \par There are quite a few steps involved in creating a plugin:\par \par {\listtext\pard\plain\s15 \f5\fs22 \hich\af5\dbch\af0\loch\f5 -\tab}}\pard \s15\fi-360\li720\nowidctlpar\tx360\jclisttab\tx720\tx1080\tx1440\tx3060\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\ls1\rin0\lin720\itap0 {\b\f5\fs22 Create a new target in the Adium project\par {\listtext\pard\plain\s15 \f2\fs22 \hich\af2\dbch\af0\loch\f2 o\tab}}\pard \s15\fi-360\li1440\nowidctlpar\tx360\tx1080\jclisttab\tx1440\tx3060\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\ls1\ilvl1\rin0\lin1440\itap0 {\f5\fs22 With the Adium project open, select \lquote New Target\rquote  from the Project menu.\par {\listtext\pard\plain\s15 \f2\fs22 \hich\af2\dbch\af0\loch\f2 o\tab}Select \lquote Bundle\rquote  from the list, enter your plugin\rquote s name\par {\listtext\pard\plain\s15 \f2\fs22 \hich\af2\dbch\af0\loch\f2 o\tab}Check to include your plugin in 'Adium'\par {\listtext\pard\plain\s15 \f2\fs22 \hich\af2\dbch\af0\loch\f2 o\tab}Create the bundle\par {\listtext\pard\plain\s15 \f5\fs22 \hich\af5\dbch\af0\loch\f5 -\tab}}\pard \s15\fi-360\li720\nowidctlpar\tx360\jclisttab\tx720\tx1080\tx1440\tx3060\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\ls1\rin0\lin720\itap0 {\f5\fs22 C}{\b\f5\fs22 hange the bundle\rquote s extension to \lquote AdiumPlugin\rquote \par {\listtext\pard\plain\s15 \f2\fs22 \hich\af2\dbch\af0\loch\f2 o\tab}}\pard \s15\fi-360\li1440\nowidctlpar\tx360\tx720\tx1080\jclisttab\tx1440\tx3060\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\ls1\ilvl1\rin0\lin1440\itap0 {\f5\fs22 In Project Builder\rquote s targets pane, select your plugin from the list\par {\listtext\pard\plain\s15 \f2\fs22 \hich\af2\dbch\af0\loch\f2 o\tab}In Settings->build settings, change the word \lquote bundle\rquote  next to \lquote WRAPPER_EXTENSION\rquote  to \lquote AdiumPlugin\rquote \par {\listtext\pard\plain\s15 \f2\fs22 \hich\af2\dbch\af0\loch\f2 o\tab}In Info.plist Entries->Cocoa Specific, enter the name of your principal class.  The class will be \lquote AI<PluginName>Plugin\rquote .  You may use your own initials in place of AI if desired. \par {\listtext\pard\plain\s15 \f5\fs22 \hich\af5\dbch\af0\loch\f5 -\tab}}\pard \s15\fi-360\li720\nowidctlpar\tx360\jclisttab\tx720\tx1080\tx3060\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\ls1\rin0\lin720\itap0 {\b\f5\fs22 Make your target dependent on the necessary frameworks\par {\listtext\pard\plain\s15 \f2\fs22 \hich\af2\dbch\af0\loch\f2 o\tab}}\pard \s15\fi-360\li1440\nowidctlpar\tx360\tx720\tx1080\jclisttab\tx1440\tx3060\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\ls1\ilvl1\rin0\lin1440\itap0 {\f5\fs22 Drag the target \lquote Adium.Framework\rquote  and \lquote AIUtilities.Framework\rquote  into your plugin\rquote s target.\par {\listtext\pard\plain\s15 \f5\fs22 \hich\af5\dbch\af0\loch\f5 -\tab}}\pard \s15\fi-360\li720\nowidctlpar\tx360\jclisttab\tx720\tx1080\tx3060\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\ls1\rin0\lin720\itap0 {\b\f5\fs22 Create a group for your plugin\par {\listtext\pard\plain\s15 \f2\fs22 \hich\af2\dbch\af0\loch\f2 o\tab}}\pard \s15\fi-360\li1440\nowidctlpar\tx360\tx720\tx1080\jclisttab\tx1440\tx3060\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\ls1\ilvl1\rin0\lin1440\itap0 {\f5\fs22 In the files pane, create a new group (File->New Group)\par {\listtext\pard\plain\s15 \f2\fs22 \hich\af2\dbch\af0\loch\f2 o\tab}Name this group after your plugin, and place it at the bottom of the \lquote ---plugins---\lquote  section.\par {\listtext\pard\plain\s15 \f5\fs22 \hich\af5\dbch\af0\loch\f5 -\tab}}\pard \s15\fi-360\li720\nowidctlpar\tx360\jclisttab\tx720\tx1080\tx1440\tx3060\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\ls1\rin0\lin720\itap0 {\b\f5\fs22 Create a plugin source file\par {\listtext\pard\plain\s15 \f2\fs22 \hich\af2\dbch\af0\loch\f2 o\tab}}\pard \s15\fi-360\li1440\nowidctlpar\tx360\tx1080\jclisttab\tx1440\tx3060\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\ls1\ilvl1\rin0\lin1440\itap0 {\f5\fs22 Create a new \lquote Objective-C Class\rquote  (File->New) with the class filename you used above AI<PluginName>Plugin\rquote \par {\listtext\pard\plain\s15 \f2\fs22 \hich\af2\dbch\af0\loch\f2 o\tab}Select your plugin\rquote s target and add this file.}{\b\f5\fs22 \par {\listtext\pard\plain\s15 \f5\fs22 \hich\af5\dbch\af0\loch\f5 -\tab}}\pard \s15\fi-360\li720\nowidctlpar\tx360\jclisttab\tx720\tx1080\tx3060\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\ls1\rin0\lin720\itap0 {\b\f5\fs22 Link to the frameworks\par {\listtext\pard\plain\s15 \f2\fs22 \hich\af2\dbch\af0\loch\f2 o\tab}}\pard \s15\fi-360\li1440\nowidctlpar\tx360\tx1080\jclisttab\tx1440\tx3060\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\ls1\ilvl1\rin0\lin1440\itap0 {\f5\fs22 Select your target from the \lquote Active Target\rquote  popup}{\b\f5\fs22 \par {\listtext\pard\plain\s15 \f2\fs22 \hich\af2\dbch\af0\loch\f2 o\tab}}{\f5\fs22 On the files pane, open the \lquote frameworks\rquote  group\par {\listtext\pard\plain\s15 \f2\fs22 \hich\af2\dbch\af0\loch\f2 o\tab}Check to include Adium.Framework and AIUtilities.Framework.  Also check the other frameworks you\rquote re using. (Such as Cocoa.Framework)\par {\listtext\pard\plain\s15 \f5\fs22 \hich\af5\dbch\af0\loch\f5 -\tab}}\pard \s15\fi-360\li720\nowidctlpar\tx360\jclisttab\tx720\tx1080\tx1440\tx3060\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\ls1\rin0\lin720\itap0 {\b\f5\fs22 Build your plugin\par {\listtext\pard\plain\s15 \f2\fs22 \hich\af2\dbch\af0\loch\f2 o\tab}}\pard \s15\fi-360\li1440\nowidctlpar\tx360\tx1080\jclisttab\tx1440\tx3060\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\ls1\ilvl1\rin0\lin1440\itap0 {\f5\fs22 With your plugin selected in the \lquote active target\rquote  popup, click the build button.  It should build without errors.  If there are errors you need to resolve them.\par {\listtext\pard\plain\s15 \f5\fs22 \hich\af5\dbch\af0\loch\f5 -\tab}}\pard \s15\fi-360\li720\nowidctlpar\tx360\jclisttab\tx720\tx1080\tx1440\tx3060\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\ls1\rin0\lin720\itap0 {\b\f5\fs22 Add your plugin to the default Adium build\par {\listtext\pard\plain\s15 \f2\fs22 \hich\af2\dbch\af0\loch\f2 o\tab}}\pard \s15\fi-360\li1440\nowidctlpar\tx360\tx1080\jclisttab\tx1440\tx3060\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\ls1\ilvl1\rin0\lin1440\itap0 {\f5\fs22 Go to the targets pane and select the Adium target}{\f5\fs24 \par {\listtext\pard\plain\s15 \f2\fs22 \hich\af2\dbch\af0\loch\f2 o\tab}}{\f5\fs22 In BuildPhases, drag your plugin from whichever category it was placed in to \lquote Copy files (plugins)\rquote }{\f5\fs24 \par }\pard\plain \widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \f4\lang1033\cgrid {\par }{\f5 I wish there was a way to simplify these steps.. if you know of one please let me know.\par \par The AI<Plugin Name>Class you create will serve as the main class and initializer of your plugin.  It should be a subclass of AIPlugin.\par }{\par }\pard\plain \s1\keepn\widctlpar\aspalpha\aspnum\faauto\outlinelevel0\adjustright\rin0\lin0\itap0 \b\f4\cf13\lang1033\cgrid {Sample AI<Plugin Name>Plugin.h\par }\pard\plain \fi-480\li480\nowidctlpar\tx960\tx1920\tx2880\tx3840\tx4800\tx5760\tx6720\tx7680\tx8640\tx9600\tx10560\tx11520\tx12480\tx13440\tx14400\tx15360\tx16320\tx17280\tx18240\tx19200\tx20160\tx21120\tx22080\tx23040\tx24000\tx24960\tx25920\tx26880\tx27840\tx28800\tx29760\tx30720\tx31680\faauto\rin0\lin480\itap0 \f4\lang1033\cgrid {\f19\fs20\cf17 #import <Cocoa/Cocoa.h>}{\f19\fs20\cf1 \par }{\f19\fs20\cf17 #import <Adium/Adium.h>}{\f19\fs20\cf1 \par \par }{\f19\fs20\cf18 @interface}{\f19\fs20\cf1  AI<PluginName>Plugin : AIPlugin \{\par \par \}\par \par }{\f19\fs20\cf18 @end}{\f19\fs20\cf1 \par }\pard \widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 {\par }\pard\plain \s1\keepn\widctlpar\aspalpha\aspnum\faauto\outlinelevel0\adjustright\rin0\lin0\itap0 \b\f4\cf13\lang1033\cgrid {Sample AI<Plugin Name>Plugin.m\par }\pard\plain \fi-480\li480\nowidctlpar\tx960\tx1920\tx2880\tx3840\tx4800\tx5760\tx6720\tx7680\tx8640\tx9600\tx10560\tx11520\tx12480\tx13440\tx14400\tx15360\tx16320\tx17280\tx18240\tx19200\tx20160\tx21120\tx22080\tx23040\tx24000\tx24960\tx25920\tx26880\tx27840\tx28800\tx29760\tx30720\tx31680\faauto\rin0\lin480\itap0 \f4\lang1033\cgrid {\f19\fs20\cf17 #import <AIUtilities/AIUtilities.h>}{\f19\fs20\cf1 \par }{\f19\fs20\cf17 #import <Adium/Adium.h>}{\f19\fs20\cf1 \par }{\f19\fs20\cf17 #import "AIAdium.h"}{\f19\fs20\cf1 \par \par }{\f19\fs20\cf18 @implementation}{\f19\fs20\cf1  AI<PluginName>Plugin\par \par - (}{\f19\fs20\cf18 void}{\f19\fs20\cf1 )installPlugin\par \{\par \tab NSLog(@\rdblquote Hello\rdblquote );\par \}\par }\pard \widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 {\par }\pard\plain \s15\nowidctlpar\tx360\tx720\tx1080\tx1440\tx3060\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\faauto\rin0\lin0\itap0 \f155\fs28\lang1033\cgrid {\f5\fs24 The install plugin method is called as your plugin loads.  This is where you want to use Adium\rquote s core controllers to perform your task, or register code to perform the task later.  Subclasses of AIPlugin automatically inherit the variable \lquote owner\rquote , which is a reference to the main AIAdium class.\par \par Owner can be used to access all the Adium core controllers.  ( [owner menuController], [owner accountController], etc)\par \par From this point you\rquote re on your own and can do whatever you want using the core controllers.\par }}